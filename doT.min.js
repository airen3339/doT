/* Laura Doktorova https://github.com/olado/doT */
(function(){"use strict";var e={version:"1.0.1",templateSettings:{comment:/\{\{\/\/([\s\S]+?)\}\}/g,evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false},template:undefined,compile:undefined},t;if(typeof module!=="undefined"&&module.exports){module.exports=e}else if(typeof define==="function"&&define.amd){define(function(){return e})}else{t=function(){return this||(0,eval)("this")}();t.doT=e}function n(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}String.prototype.encodeHTML=n();var r={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},i=/$^/;function a(e,t,n){return(typeof t==="string"?t:t.toString()).replace(e.comment||i,"").replace(e.define||i,function(t,r,i,a){if(r.indexOf("def.")===0){r=r.substring(4)}if(!(r in n)){if(i===":"){if(e.defineParams)a.replace(e.defineParams,function(e,t,i){n[r]={arg:t,text:i}});if(!(r in n))n[r]=a}else{new Function("def","def['"+r+"']="+a)(n)}}return""}).replace(e.use||i,function(t,r){if(e.useParams)r=r.replace(e.useParams,function(e,t,r,i){if(n[r]&&n[r].arg&&i){var a=(r+":"+i).replace(/'|\\/g,"_");n.__exp=n.__exp||{};n.__exp[a]=n[r].text.replace(new RegExp("(^|[^\\w$])"+n[r].arg+"([^\\w$])","g"),"$1"+i+"$2");return t+"def.__exp['"+a+"']"}});var i=new Function("def","return "+r)(n);return i?a(e,i,n):i})}function o(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}e.template=function(t,u,c){u=u||e.templateSettings;var s=u.append?r.append:r.split,f,l=0,p,d=u.use||u.define?a(u,t,c||{}):t;d=("var out='"+(u.strip?d.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):d).replace(/'|\\/g,"\\$&").replace(u.interpolate||i,function(e,t){return s.start+o(t)+s.end}).replace(u.encode||i,function(e,t){f=true;return s.start+o(t)+s.endencode}).replace(u.conditional||i,function(e,t,n){return t?n?"';}else if("+o(n)+"){out+='":"';}else{out+='":n?"';if("+o(n)+"){out+='":"';}out+='"}).replace(u.iterate||i,function(e,t,n,r){if(!t)return"';} } out+='";l+=1;p=r||"i"+l;t=o(t);return"';var arr"+l+"="+t+";if(arr"+l+"){var "+n+","+p+"=-1,l"+l+"=arr"+l+".length-1;while("+p+"<l"+l+"){"+n+"=arr"+l+"["+p+"+=1];out+='"}).replace(u.evaluate||i,function(e,t){return"';"+o(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");if(f&&u.selfcontained){d="String.prototype.encodeHTML=("+n.toString()+"());"+d}try{return new Function(u.varname,d)}catch(g){if(typeof console!=="undefined")console.log("Could not create a template function: "+d);throw g}};e.compile=function(t,n){return e.template(t,null,n)}})();
